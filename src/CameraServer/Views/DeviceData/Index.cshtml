@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@

@*<script type="text/javascript">
    $(function() {
        $('#Timestamp').datetimepicker(
        {
            //format: "YYYY-MM-DD HH:mm"
            format: "YYYY-MM-DD"
            //format: "HH:mm"
        });
    });
</script>*@

@*<script type="text/javascript">
    $('#dp3').datetimepicker()
</script>*@

@*<input class="datepicker" data-date-format="mm/dd/yyyy">*@

@*<div class="input-append date" id="dp3" data-date="12-02-2012" data-date-format="dd-mm-yyyy">
    <input class="span2" size="16" type="text" value="12-02-2012">
    <span class="add-on"><i class="icon-th"></i></span>
</div>*@


<h4> Фильтр по дате: </h4>
<input type='date' class="form-control" id="filterDate"/>
</br>
<div>
    <button id="Filter" class="btn btn-default">Отфильтровать</button>
</div>


<script type="text/javascript">
    $("#Filter")
        .click(function () {
            var dateString = $("#filterDate").val();
            var dateSplitted = dateString.split("-");
            var year = dateSplitted[0];
            var month = dateSplitted[1];
            var day = dateSplitted[2];
            //alert(dateString);
            //alert("Year " + year + ", Month " + month + ", Day " + day);
            window.location.href = '/DeviceData/Index?year=' + year + "&month=" + month + "&day=" + day;
        });
</script>

@*<div style="overflow:hidden;">
    <div class="form-group">
        <div class="row">
            <div class="col-md-8">
                <div id="datetimepicker12"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(function () {
            $('#datetimepicker12').datetimepicker({
                inline: true,
                sideBySide: true,

            });
        });
    </script>
</div>*@

@*<div class="input-group date" data-provide="datepicker">
    <input type="text" class="form-control">
    <div class="input-group-addon">
        <span class="glyphicon glyphicon-th"></span>
    </div>
</div>*@

<h3>
    <span class="label label-primary">@(ViewBag.Label)</span>
    &nbsp
    <a href="/DeviceData/Create" role="button" class="btn btn-success btn-large">
        <span class="glyphicon glyphicon-plus"></span>
    </a>
</h3>

<div class="table-responsive">
    <table class="table table-striped">
        <thead class="thead-inverse">
            <tr>
                <th></th>
                <th></th>
                <th>ID</th>
                <th>Дата и время</th>
                <th>Имя триггера</th>
                <th>GPS/GLONASS: широта</th>
                <th>GPS/GLONASS: долгота</th>
                <th>Акселерометр: ось Х</th>
                <th>Акселерометр: ось Y</th>
                <th>Акселерометр: ось Z</th>
                <th>Гироскоп: ось Х</th>
                <th>Гироскоп: ось Y</th>
                <th>Гироскоп: ось Z</th>
                <th>Данные от барометра</th>
                <th>Данные от компаса</th>
                <th>Данные от термометра</th>
                <th>Данные от датчика влаги</th>
                <th>Данные от датчика вибрации</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var data in ViewBag.Items)
            {
                using (Html.BeginForm())
                {
                    <tr>
                        <td>
                            <a href="/DeviceData/Create?id=@data.Id"
                               role="button" class="btn btn-primary btn-large">
                                <span class="glyphicon glyphicon-edit"></span>
                            </a>
                        </td>
                        <td>
                            <a href="/DeviceData/Delete?id=@data.Id"
                               role="button" class="btn btn-danger btn-large">
                                <span class="glyphicon glyphicon-trash"></span>
                            </a>
                        </td>
                        <td>@data.Id</td>
                        <td><span class="label label-info">@data.Timestamp</span></td>
                        <td>@data.TriggerName</td>
                        <td>@data.GPSGLONASSDataLat</td>
                        <td>@data.GPSGLONASSDataLon</td>
                        <td>@data.AccelerometerDataX</td>
                        <td>@data.AccelerometerDataY</td>
                        <td>@data.AccelerometerDataZ</td>
                        <td>@data.GyroscopeDataX</td>
                        <td>@data.GyroscopeDataY</td>
                        <td>@data.GyroscopeDataZ</td>
                        <td>@data.BarometerData</td>
                        <td>@data.CompassData</td>
                        <td>@data.ThermometerData</td>
                        <td>@data.WetSensorData</td>
                        <td>@data.VibrationSensorData</td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>